@use 'sass:map';
@use '../setup/variables';
@use '../setup/mixins';

.list {
    $self: &;
    background: map.get(variables.$list, "background");
    display: block;
    list-style: none;
    margin: 0 0 3rem 0;
    padding: .8rem 0;

    .menu a {
        color: variables.$color-text;
    }

    &--demo {
        @include mixins.box-shadow;
        border-radius: variables.$border-radius;
        max-width: 60rem;
    }

    &--striped {
        #{$self}__item {
            border-bottom: 1px solid map.get(variables.$list, "border");
            overflow: visible;
        }

        #{$self}__item-meta {
            display: flex;
        }
    }

    &--compact {
        margin-bottom: 0;

        #{$self}__item {
            font-size: map.get(variables.$list, "compact", "font-size");
            min-height: map.get(variables.$list, "compact", "height");
        }
    }

    &__item {
        font-size: map.get(variables.$list, "font-size");
        font-weight: 400;
        display: flex;
        flex-wrap: wrap;
        color: map.get(variables.$list, "color");
        min-height: map.get(variables.$list, "height");
        align-items: center;
        overflow: hidden;
        padding: 0;
        position: relative;

        > #{$self} {
            padding: 0;
            margin: 0;
            width: 100%;

            #{$self}__item-text {
                padding-left: 2em;
            }

            .drawer & {
                display: none;
                overflow: hidden;
            }

            .drawer & #{$self}__item-text {
                padding-left: 4em;
            }
        }

        .drawer &#{$self}--open {
            border-top: .1rem solid map.get(variables.$drawer, "border");
            border-bottom: .1rem solid map.get(variables.$drawer, "border");

            #{$self}__item-meta path {
                transform: rotate(180deg);
            }

            #{$self} {
                display: block;
            }
        }

        & a#{$self}__item-text {
            @include mixins.ripple;
        }

        &-text {
            display: inline-flex;
            color: inherit;
            flex-wrap: wrap;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: map.get(variables.$list, "padding");
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            transition: background .25s ease;

            &:hover {
                background: rgba(variables.$color-base-black, .04);
                color: inherit;
            }

            &:active, &:focus {
                background: rgba(variables.$color-base-black, .12);
            }
        }

        &--active &-text {
            background: rgba(variables.$color-base-black, .04);
            color: inherit;
        }

        &--header {
            padding: 12px 16px 6px;
            min-height: 38px;
        }

        &-secondary-text {
            color: map.get(variables.$list, "secondary", "color");
            font-size: map.get(variables.$list, "secondary", "font-size");
            font-weight: 400;
            letter-spacing: .01785em;
            line-height: 1.4;
            display: block;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            width: 100%;
        }

        &-graphic {
            color: map.get(variables.$list, "graphic", "color");
            font-size: map.get(variables.$list, "graphic", "font-size");
            display: inline-flex;
            flex-shrink: 0;
            align-items: center;
            justify-content: center;
            height: map.get(variables.$list, "graphic", "size");
            width: map.get(variables.$list, "graphic", "size");
            margin: 0 .66em 0 0;
        }

        &-meta {
            margin-left: auto;
            margin-right: 0;
            color: map.get(variables.$list, "meta", "color");
            font-size: map.get(variables.$list, "meta", "font-size");
            cursor: pointer;

            path {
                transition: transform .4s ease;
                transform-origin: center;
            }
        }
    }

    &__divider {
        border: none;
        border-bottom: .1rem solid map.get(variables.$list, "divider");
        height: 0;
        margin: 0;
    }
}